(this["webpackJsonpzues-client"]=this["webpackJsonpzues-client"]||[]).push([[0],{147:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),c=a.n(r),o=(a(40),a(15)),i=a.n(o),s=a(33),u=a(1);a(42);function m(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"NavBtn "+(e.current&&"NavCurrent"),onClick:e.click},e.text))}function d(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"gearIcn","data-icon":"setting",width:"18px",height:"18px","aria-hidden":"true"},l.a.createElement("path",{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 0 0-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a442.5 442.5 0 0 0-79.6-137.7l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.3a353.44 353.44 0 0 0-98.9 57.3l-81.8-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a445.93 445.93 0 0 0-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0 0 25.8 25.7l2.7.5a448.27 448.27 0 0 0 158.8 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"})))}var f={open:"'Open Sans', sans-serif",roboto:"'Roboto', sans-serif",crimson:"'Crimson Text', serif",enriqueta:"'Enriqueta', serif",farmwood:"'Farmwood Text', serif",karma:"'Karma', serif",lora:"'Lora', serif",noto:"'Noto Serif SC', serif"};function p(e){return l.a.createElement("div",{className:"uiControls"},l.a.createElement("button",{className:"uiMenuBtn",onClick:function(){return e.setMenuVis(!e.menuVis)}},l.a.createElement(d,null)),l.a.createElement("div",{className:"uiMenu",style:e.menuVis?{opacity:1,height:"419px",boxShadow:"0 14px 20px 0 rgba(0,0,0,.11)"}:{opacity:0,height:"0",boxShadow:"none"}},l.a.createElement("div",{className:"uiMenuInner"},l.a.createElement("div",{className:"uiOptionWrapper"},l.a.createElement("label",{htmlFor:"loadSelector"},"Feed Count"),l.a.createElement("div",null,l.a.createElement("select",{className:"uiSelect",name:"loadSelector",id:"loadSelector",onChange:function(t){return e.updateCount(t.target.value)},defaultValue:localStorage.getItem("count")?localStorage.getItem("count"):30},l.a.createElement("option",{value:15},"15"),l.a.createElement("option",{value:30},"30"),l.a.createElement("option",{value:60},"60"),l.a.createElement("option",{value:90},"90"),l.a.createElement("option",{value:120},"120")))),l.a.createElement("div",{className:"uiOptionWrapper"},l.a.createElement("label",{htmlFor:"agentSelector"},"Parser User Agent"),l.a.createElement("div",null,l.a.createElement("select",{className:"uiSelect",name:"agentSelector",id:"agentSelector",onChange:function(t){return e.updateAgent(t.target.value)},defaultValue:"desktop"},l.a.createElement("option",{value:"desktop"},"Desktop"),l.a.createElement("option",{value:"mobile"},"Mobile"),l.a.createElement("option",{value:"tablet"},"Tablet")))),l.a.createElement("div",{className:"uiOptionWrapper"},l.a.createElement("label",{htmlFor:"fontSelector"},"Font Family"),l.a.createElement("div",null,l.a.createElement("select",{className:"uiSelect",name:"fontSelector",id:"fontSelector",onChange:function(t){return e.updateFont(t.target.value)},defaultValue:localStorage.getItem("font")?localStorage.getItem("font"):"'Open Sans', sans-serif"},l.a.createElement("option",{value:f.open,style:{fontFamily:f.enriqueta}},"Open Sans"),l.a.createElement("option",{value:f.roboto,style:{fontFamily:f.roboto}},"Roboto"),l.a.createElement("option",{value:f.crimson,style:{fontFamily:f.crimson}},"Crimson Text"),l.a.createElement("option",{value:f.enriqueta,style:{fontFamily:f.enriqueta}},"Enriqueta"),l.a.createElement("option",{value:f.farmwood,style:{fontFamily:f.farmwood}},"Farmwood Text"),l.a.createElement("option",{value:f.karma,style:{fontFamily:f.karma}},"Karma"),l.a.createElement("option",{value:f.lora,style:{fontFamily:f.lora}},"Lora"),l.a.createElement("option",{value:f.noto,style:{fontFamily:f.noto}},"Noto Serif SC")))),l.a.createElement("div",{className:"uiOptionWrapper"},l.a.createElement("label",null,"Font Size"),l.a.createElement("div",{className:"fontSizeCont"},l.a.createElement("button",{className:"uiBtn",onClick:function(){return e.decFont()}},"a"),l.a.createElement("button",{className:"uiBtn",onClick:function(){return e.incFont()}},"A"))))))}function E(e){var t=Object(n.useState)("top"),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(u.a)(o,2),s=i[0],d=i[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),v=E[0],g=E[1],b=e.makeReq,h=function(e){c(e),b(e)};return Object(n.useEffect)((function(){!0===s&&(b(r),d(!1))}),[r,b,s]),l.a.createElement("div",{className:"Nav"},l.a.createElement("div",{className:"uiMenuBack",onClick:function(){return g(!1)},style:v?{opacity:1,zIndex:19}:{opacity:0,zIndex:-1}}),l.a.createElement("div",{className:"navLeft"},l.a.createElement(m,{click:function(){return h("top")},text:"Top",current:"top"===r}),l.a.createElement(m,{click:function(){return h("new")},text:"New",current:"new"===r}),l.a.createElement(m,{click:function(){return h("best")},text:"Best",current:"best"===r}),l.a.createElement(m,{click:function(){return h("ask")},text:"Ask",current:"ask"===r}),l.a.createElement(m,{click:function(){return h("show")},text:"Show",current:"show"===r}),l.a.createElement(m,{click:function(){return h("jobs")},text:"Jobs",current:"jobs"===r})),l.a.createElement("div",{className:"navRight"},l.a.createElement(p,{menuVis:v,setMenuVis:g,updateCount:function(t){localStorage.setItem("count",t),e.setCount(t),d(!0)},updateAgent:e.updateAgent,updateFont:function(t){localStorage.setItem("font",t),e.setFont(t)},decFont:e.decFont,incFont:e.incFont}),l.a.createElement("span",{className:"siteTitle"},"Hacker Zeus")))}function v(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("span",null,e.date.slice(8,10)," "),l.a.createElement("span",null,["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"][e.date.slice(5,7)-1],", "),l.a.createElement("span",null,e.date.slice(0,4))))}function g(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"ArticleHeader"},e.date&&l.a.createElement(v,{date:e.date}),e.author&&l.a.createElement("p",null,e.author),l.a.createElement("p",null,l.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"articleLink"},e.domain?e.domain:"Link"))))}function b(e){return l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("p",{style:{fontSize:"18pt",fontWeight:"bolder",color:"#aaa"}},"No Content Available"),l.a.createElement("p",null,l.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"Go to linked website")))}var h=a(43);function S(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{name:"Article Content",className:"ArticleBody",style:{fontFamily:e.font}},l.a.createElement("h1",{className:"articleTitle",style:{fontSize:"".concat(1.85*e.fontSize,"pt")}},e.title),l.a.createElement("div",{className:"articleText",style:{fontSize:"".concat(e.fontSize,"pt")}},e.content?l.a.createElement(h,{source:e.content}):e.excerpt?e.excerpt:l.a.createElement(b,{url:e.url}))))}function N(e){return l.a.createElement("div",{className:"Article",onMouseEnter:function(){return e.toggleDarken(!0)},onMouseLeave:function(){return e.toggleDarken(!1)}},l.a.createElement("article",{className:"articleInner"},l.a.createElement(g,{date:e.data.date_published,author:e.data.author,url:e.data.url,domain:e.data.domain}),l.a.createElement(S,{font:e.font,fontSize:e.fontSize,title:e.data.title,content:e.data.content,excerpt:e.data.excerpt,url:e.data.url})))}var k=a(8),y=a.n(k),j=y.a.create({baseURL:"https://hacker-news.firebaseio.com/v0/",responseType:"json"});var O=function(e){var t=new Date(1e3*e),a=(new Date).getTime()-t.getTime();if(a<36e5){var n=Math.round(a/6e4);return 1===n?"1 minute":"".concat(n," minutes")}if(a<864e5){var l=Math.round(a/36e5);return 1===l?"1 hour":"".concat(l," hours")}var r=Math.round(a/864e5);return 1===r?"1 day":"".concat(r," days")};function w(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],c=a[1],o=O(e.data.time);return l.a.createElement("div",null,l.a.createElement("div",{className:"Comment commentDepth".concat(e.depth)},l.a.createElement("div",{className:"commentHeader"},l.a.createElement("span",{className:"commentBy"},e.data.by),l.a.createElement("span",{className:"commentTime"},o),l.a.createElement("button",{className:"childrenVisBtn",onClick:function(){return c(!r)}},r?"[-]":"[+]")),l.a.createElement("div",{className:"commentText",style:r?{display:"block"}:{display:"none"},dangerouslySetInnerHTML:{__html:e.data.text}})),e.data.hasOwnProperty("kids")&&l.a.createElement("div",{style:r?{display:"block"}:{display:"none"}},l.a.createElement(x,{ids:e.data.kids,depth:e.depth})))}function x(e){var t=e.depth+1,a=e.ids,r=Object(n.useState)([]),c=Object(u.a)(r,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){i(function(e){for(var t=[],a=0;a<e.length;a++)j.get("item/".concat(e[a],".json")).then((function(e){null!==e.data&&!0!==e.data.deleted&&t.push(e.data)}));return t}(a))}),[a]),l.a.createElement("div",{className:"CommentList"},o.map((function(e){return l.a.createElement(w,{key:e.id,data:e,depth:t})})))}function F(e){return l.a.createElement("div",{className:"CommentSection",id:"commentSection"},l.a.createElement(x,{ids:e.ids,depth:0}))}function C(e){var t=e.data,a=Object(n.useState)(null),r=Object(u.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(null),s=Object(u.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),E=p[0],v=p[1],g=Object(n.useState)(!1),b=Object(u.a)(g,2),h=b[0],S=b[1];return Object(n.useEffect)((function(){null!==t&&(d(!0),y.a.post("https://hackerzeus.appspot.com/parse",{url:t.url,type:"markdown",agent:e.agent}).then((function(e){e.data.article?(o(e.data.article),v(!1),d(!1)):(v(!0),d(!1))})))}),[t,e.agent,o,d,v]),l.a.createElement("div",{className:"Reader "+(!1!==m||!0===E?"Loading":"")},l.a.createElement("div",{className:"articleBack",style:h?{opacity:0,zIndex:10}:{opacity:0,zIndex:-1}}),l.a.createElement("div",{style:m||E?{display:"none"}:{display:"block"},className:"commentJump"},null!==t&&t.kids&&l.a.createElement("a",{href:"#commentSection",className:"jumpText"},"Jump to comments")),!0===m?l.a.createElement("div",{className:"loadRing"}):!0===E?l.a.createElement("p",{className:"noLoadMsg"},"Server could not parse requested data"):c?l.a.createElement(N,{data:c,font:e.font,fontSize:e.fontSize,toggleDarken:S}):l.a.createElement("p",{className:"noLoadMsg"},"Select an item from the left to load content"),l.a.createElement("div",{style:m?{visibility:"hidden"}:{visibility:"visible"}},null!==t&&t.kids&&l.a.createElement(F,{ids:t.kids})))}function z(){return l.a.createElement("div",{className:"loadRing"})}var I=a(34);function L(e){var t=e.data,a=new I(t.url,{}).host,n=O(t.time);return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"ListItem",id:e.data.id},l.a.createElement("button",{onClick:function(){return e.setReader(t)},className:"listBtn"},l.a.createElement("p",{className:"listItemTitle",style:t.title.length>=72?{fontSize:"11pt"}:{}},t.title),l.a.createElement("div",{className:"listInfo"},l.a.createElement("div",{className:"infoLeft"},l.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"listHost"},a),l.a.createElement("div",{className:"infoLeftBottom"},l.a.createElement("span",{className:"infoDate"},n),l.a.createElement("span",{className:"infoDivider"},"|"),l.a.createElement("span",null,t.by))),l.a.createElement("div",{className:"infoRight"},t.descendants>0&&l.a.createElement("span",null,"Cmt: ",t.descendants),l.a.createElement("div",{className:"ptsSpan"},l.a.createElement("span",null,"Pt: ",t.score)))))))}function M(){return l.a.createElement("div",{className:"loadRingSm"})}function A(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{viewBox:"64 64 896 896",className:"loadArrow",width:"32px",height:"32px","aria-hidden":"true"},l.a.createElement("path",{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}),l.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})))}function R(e){return l.a.createElement("div",{className:"List"},l.a.createElement("ul",{className:"articleList"},e.items.map((function(t){return l.a.createElement(L,{key:t.id,data:t,setReader:e.setReader})}))),l.a.createElement("div",{className:"loadMoreCont"},l.a.createElement("button",{className:"loadMoreBtn",onClick:function(){return e.load()}},!0===e.loadingMore?l.a.createElement(M,null):l.a.createElement(A,null))))}function B(e){return l.a.createElement("div",{className:"List "+(e.loading&&"Loading")},e.loading?l.a.createElement(z,null):l.a.createElement(R,{items:e.items,setReader:e.setReader,load:e.load,loadingMore:e.loadingMore}))}var T={item:"item/",updates:"updates.json",top:"topstories.json",new:"newstories.json",best:"beststories.json",ask:"askstories.json",show:"showstories.json",jobs:"jobstories.json"},W=localStorage.getItem("fontSize"),D=localStorage.getItem("count"),q=localStorage.getItem("font"),V=function(e){return Object(n.useEffect)(e,[])};var J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement((function(){var e=Object(n.useState)(q||"'Open Sans', sans-serif"),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(W||"12"),o=Object(u.a)(c,2),m=o[0],d=o[1],f=Object(n.useState)(D||"30"),p=Object(u.a)(f,2),v=p[0],g=p[1],b=Object(n.useState)("desktop"),h=Object(u.a)(b,2),S=h[0],N=h[1],k=Object(n.useState)(!1),y=Object(u.a)(k,2),O=y[0],w=y[1],x=Object(n.useState)(!0),F=Object(u.a)(x,2),z=F[0],I=F[1],L=Object(n.useState)(null),M=Object(u.a)(L,2),A=M[0],R=M[1],J=Object(n.useState)(null),H=Object(u.a)(J,2),_=H[0],P=H[1],U=Object(n.useState)([]),K=Object(u.a)(U,2),G=K[0],Z=K[1],$=Object(n.useState)([]),Q=Object(u.a)($,2),X=Q[0],Y=Q[1],ee=Object(n.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n,l,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],l=v<t.length?v:t.length,r=0;case 3:if(!(r<l)){e.next=9;break}return e.next=6,j.get("item/".concat(t[r],".json")).then((function(e){null!==e.data&&n.push(e.data)}));case 6:r++,e.next=3;break;case 9:if(!(X.length<1||!0===a)){e.next=14;break}Y(n),I(!1),e.next=19;break;case 14:return e.next=16,X.concat(n);case 16:c=e.sent,Y(c),w(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[X,v]),te=function(e){I(!0),j.get("".concat(T[e])).then((function(e){e.data.length>0?(Z(e.data),ee(e.data,!0)):(I(!1),alert("Error getting data from server"))}))};return Object(n.useEffect)((function(){m<1||m>100?(alert("What on earth..."),localStorage.setItem("fontSize",12),d(11)):localStorage.setItem("fontSize",m)}),[m]),Object(n.useEffect)((function(){if(_&&_!==A.id){var e=document.getElementById(_);e&&e.classList.remove("ListItemReading")}if(A){var t=document.getElementById(A.id);t&&t.classList.add("ListItemReading"),P(A.id)}}),[A,_]),V((function(){return te("top")})),l.a.createElement("div",{className:"App"},l.a.createElement(E,{makeReq:te,setCount:g,setFont:r,updateAgent:N,decFont:function(){return d(m-1)},incFont:function(){return d(Number(m)+1)}}),l.a.createElement(B,{loading:z,items:X,setReader:R,load:function(){w(!0),ee(G.slice(X.length),!1)},loadingMore:O}),l.a.createElement(C,{data:A,font:a,fontSize:m,agent:S}))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");J?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()},35:function(e,t,a){e.exports=a(147)},40:function(e,t,a){},42:function(e,t,a){}},[[35,1,2]]]);
//# sourceMappingURL=main.59e119ac.chunk.js.map